import{t as P,a as w,c as Yt,d as bt}from"../chunks/3_qBB5hz.js";import"../chunks/Z9zBgBAY.js";import{W as Et,m as z,ao as me,ap as Y,Y as At,c as i,w as pe,o as t,aJ as Ut,r,aq as a,l as p,at as Zt,au as Ne,aK as ee}from"../chunks/CMFmae-t.js";import{s as v}from"../chunks/DnaU8b9l.js";import{i as Te}from"../chunks/BJKpdqZD.js";import{e as qe,i as Be}from"../chunks/Cj7RaS5_.js";import{h as Kt}from"../chunks/BQXnkVNR.js";import{s as x,c as Jt,b as ue,r as ke,a as Wt}from"../chunks/BvlNnonT.js";import{e as m}from"../chunks/D44X9R_d.js";import{b as fe,a as Lt,c as Qt}from"../chunks/BqnV01kF.js";import{p as xt}from"../chunks/CWmzcjye.js";import{i as wt}from"../chunks/CwxruISI.js";import{o as Xt}from"../chunks/NS6W2iqr.js";import{g as ea}from"../chunks/BVx4_YPo.js";import{b as f}from"../chunks/Dsr3CGdv.js";import{g as ta}from"../chunks/DMjoHaOF.js";import{p as aa}from"../chunks/bh_Z1nF-.js";import{l as _t,p as te,b as sa}from"../chunks/N765AcLg.js";const la=!0,za=Object.freeze(Object.defineProperty({__proto__:null,prerender:la},Symbol.toStringTag,{value:"Module"})),ra=[{date:"09.12.2025",time:"12:16",address:"Av. Libertador Bernardo O'Higgins 2151",city:"Santiago",state:"Región Metropolitana",zip:"8320000",tankGrade:"Diesel #2",tankNo:"1",preventedDelivery:"GASOLINE"},{date:"09.01.2025",time:"9:04",address:"Calle Cochrane 207",city:"Valparaíso",state:"Región de Valparaíso",zip:"2340000",tankGrade:"Diesel #2",tankNo:"1",preventedDelivery:"GASOLINE"},{date:"08.14.2025",time:"5:52",address:"Av. Pedro Montt 619",city:"Antofagasta",state:"Región de Antofagasta",zip:"1240000",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"6",preventedDelivery:"DIESEL"},{date:"07.09.2025",time:"2:40",address:"Ruta 5 Norte Km 2901",city:"La Serena",state:"Región de Coquimbo",zip:"1700000",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"4",preventedDelivery:"DIESEL"},{date:"06.30.2025",time:"23:28",address:"Av. Arturo Prat 6321",city:"Iquique",state:"Región de Tarapacá",zip:"1100000",tankGrade:"Diesel #2",tankNo:"2",preventedDelivery:"GASOLINE"},{date:"06.24.2025",time:"20:16",address:"Calle Baquedano 6321",city:"Calama",state:"Región de Antofagasta",zip:"1390000",tankGrade:"Diesel #2",tankNo:"4",preventedDelivery:"GASOLINE"},{date:"06.03.2025",time:"17:04",address:"Av. Costanera 11102",city:"Concepción",state:"Región del Biobío",zip:"4030000",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"05.19.2025",time:"13:52",address:"Camino Los Aromos 2202",city:"Temuco",state:"Región de La Araucanía",zip:"4780000",tankGrade:"Gas 93 OCTANE 10% ETH 9.0RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"05.14.2025",time:"10:40",address:"Ruta 5 Sur Km 9111",city:"Osorno",state:"Región de Los Lagos",zip:"5290000",tankGrade:"Gas 93 OCTANE 10% ETH 9.0RVP",tankNo:"7",preventedDelivery:"DIESEL"},{date:"04.23.2025",time:"7:28",address:"Av. Las Condes 16555",city:"Las Condes",state:"Región Metropolitana",zip:"7550000",tankGrade:"Gas 93 OCTANE 10% ETH 9.0RVP",tankNo:"3",preventedDelivery:"DIESEL"},{date:"04.22.2025",time:"4:16",address:"Calle Esmeralda 1301",city:"Valdivia",state:"Región de Los Ríos",zip:"5090000",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"6",preventedDelivery:"DIESEL"},{date:"04.04.2025",time:"1:04",address:"Av. Paicaví 720",city:"Talcahuano",state:"Región del Biobío",zip:"4260000",tankGrade:"Diesel #2",tankNo:"5",preventedDelivery:"GASOLINE"},{date:"02.22.2025",time:"21:52",address:"Calle Maipú 3225",city:"Rancagua",state:"Región de O'Higgins",zip:"2820000",tankGrade:"Diesel #2",tankNo:"4",preventedDelivery:"GASOLINE"},{date:"02.11.2025",time:"18:40",address:"Av. Angol 101",city:"Los Ángeles",state:"Región del Biobío",zip:"4440000",tankGrade:"GAS 91 NO ETH 9.0 RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"01.29.2025",time:"15:28",address:"Calle Freire 9",city:"Chillán",state:"Región de Ñuble",zip:"3780000",tankGrade:"Diesel #2",tankNo:"2",preventedDelivery:"GASOLINE"},{date:"01.18.2025",time:"12:16",address:"Av. Bernardo O'Higgins 9",city:"Talca",state:"Región del Maule",zip:"3460000",tankGrade:"High Ethanol ",tankNo:"4",preventedDelivery:"DIESEL"},{date:"01.12.2025",time:"9:04",address:"Ruta 68 Km 15513",city:"Curicó",state:"Región del Maule",zip:"3340000",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"4",preventedDelivery:"DIESEL"},{date:"01.03.2025",time:"5:52",address:"Av. Colón 5202",city:"Puerto Montt",state:"Región de Los Lagos",zip:"5500000",tankGrade:"Gas 93 OCTANE 10% ETH 9.0RVP",tankNo:"4",preventedDelivery:"DIESEL"},{date:"12.22.2024",time:"2:40",address:"Camino Melipilla 12200",city:"Melipilla",state:"Región Metropolitana",zip:"9580000",tankGrade:"Diesel #2",tankNo:"5",preventedDelivery:"GASOLINE"},{date:"12.21.2024",time:"23:28",address:"Av. Punta Arenas 905",city:"Punta Arenas",state:"Región de Magallanes",zip:"6200000",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"4",preventedDelivery:"DIESEL"},{date:"12.13.2024",time:"20:16",address:"Calle Linares 101",city:"Linares",state:"Región del Maule",zip:"3580000",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"5",preventedDelivery:"DIESEL"},{date:"12.02.2024",time:"17:04",address:"Av. Providencia 16222",city:"Providencia",state:"Región Metropolitana",zip:"7500000",tankGrade:"Diesel #2",tankNo:"5",preventedDelivery:"GASOLINE"},{date:"11.09.2024",time:"13:52",address:"Calle Viña del Mar 27137",city:"Viña del Mar",state:"Región de Valparaíso",zip:"2520000",tankGrade:"Diesel #2",tankNo:"5",preventedDelivery:"GASOLINE"},{date:"10.30.2024",time:"10:40",address:"Av. Maipú 6406",city:"Maipú",state:"Región Metropolitana",zip:"9250000",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"09.09.2024",time:"7:28",address:"Ruta 160 Km 21997",city:"Copiapó",state:"Región de Atacama",zip:"1530000",tankGrade:"High Ethanol ",tankNo:"5",preventedDelivery:"DIESEL"},{date:"08.10.2024",time:"4:16",address:"Av. San Martín 9157",city:"Arica",state:"Región de Arica y Parinacota",zip:"1000000",tankGrade:"GAS 87 OCTANE 10.0% ETHANOL 9.0 RVP",tankNo:"5",preventedDelivery:"DIESEL"},{date:"06.28.2024",time:"1:04",address:"Calle Quillota 10537",city:"Quillota",state:"Región de Valparaíso",zip:"2260000",tankGrade:"Diesel #2",tankNo:"4",preventedDelivery:"GASOLINE"},{date:"05.01.2024",time:"21:52",address:"Av. Castro 1303",city:"Castro",state:"Región de Los Lagos",zip:"5700000",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"4",preventedDelivery:"DIESEL"},{date:"04.28.2024",time:"18:40",address:"Camino Ovalle 31700",city:"Ovalle",state:"Región de Coquimbo",zip:"1840000",tankGrade:"GAS 87 NO ETH 9.0 RVP ",tankNo:"4",preventedDelivery:"DIESEL"}];function Dt(){document.querySelectorAll(".search-fields input").forEach(o=>{const U=o.id+"_"+Math.random().toString(36).substring(2,9);o.setAttribute("name",U),(o.id==="State"||o.id==="Zip"||o.id==="Date"||o.id==="ST-address"||o.id==="City"||o.id==="Fuel")&&(o.setAttribute("autocomplete","new-password"),o.setAttribute("data-lpignore","true"),o.setAttribute("data-form-type","other"))})}async function ia(){return ra}var na=P('<div class="dropdown-item svelte-1o6jmi1"> </div>'),da=P('<label> </label> <div class="custom-dropdown svelte-1o6jmi1"><div class="input-wrapper svelte-1o6jmi1"><input> <div class="dropdown-arrow svelte-1o6jmi1"></div></div> <div></div></div>',1);function St(ge,o){const U=_t(o,["children","$$slots","$$events","$$legacy"]),ye=_t(U,["prerender","id","label","placeholder","options","value","onChange"]);Et(o,!1);let he=te(o,"id",8,""),Z=te(o,"label",8,""),be=te(o,"placeholder",8,"Select or type"),F=te(o,"options",24,()=>[]),ae=te(o,"value",12,""),Ge=te(o,"onChange",8,()=>{});const N=!0;let g=z(!1),D=z(),n=z([...F()]);function se(){p(g,!t(g)),t(g)&&p(n,[...F()])}function G(u){ae(u),Ge()(u),p(g,!1)}function Re(){const u=ae().toLowerCase();p(n,F().filter(H=>H.toLowerCase().includes(u))),p(g,!0)}function le(u){t(D)&&!t(D).contains(u.target)&&p(g,!1)}function re(u){u.stopPropagation(),p(n,[...F()]),se()}wt();var V=da();m("click",Ut,le);var j=me(V),$e=i(j,!0);r(j);var ie=a(j,2),ne=i(ie),R=i(ne);ke(R);let de;var xe=a(R,2);r(ne);var K=a(ne,2);let J;return qe(K,5,()=>t(n),Be,(u,H)=>{var q=na(),_e=i(q,!0);r(q),Y(()=>v(_e,t(H))),m("click",q,()=>G(t(H))),w(u,q)}),r(K),r(ie),sa(ie,u=>p(D,u),()=>t(D)),Y(u=>{x(j,"for",he()),v($e,Z()),de=Jt(R,de,{id:he(),type:"text",placeholder:be(),autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",...ye},"svelte-1o6jmi1"),J=ue(K,1,"dropdown-content svelte-1o6jmi1",null,J,u)},[()=>({show:t(g)})],pe),fe(R,ae),m("input",R,Re),m("focus",R,()=>{p(n,[...F()]),p(g,!0)}),m("keydown",R,function(u){Qt.call(this,o,u)}),m("click",xe,re),w(ge,V),Lt(o,"prerender",N),At({prerender:N})}var oa=Yt('<script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js" class="svelte-1emxd9k"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" class="svelte-1emxd9k"><\/script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js" class="svelte-1emxd9k"><\/script> <meta charset="UTF-8" class="svelte-1emxd9k"> <meta name="viewport" content="width=device-width, initial-scale=1.0" class="svelte-1emxd9k"> <link href="https://fonts.googleapis.com/css?family=Mulish" rel="stylesheet" class="svelte-1emxd9k"> <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" class="svelte-1emxd9k">',1),ca=P('<tr><td colspan="4" class="details-cell svelte-1emxd9k"><div class="details-header svelte-1emxd9k">Details:</div> <div class="details-content svelte-1emxd9k"> <br class="svelte-1emxd9k"> <span class="label svelte-1emxd9k">Full Address:</span> <br class="svelte-1emxd9k"> <span class="label svelte-1emxd9k">Tank Grade:</span> <span class="label svelte-1emxd9k">Tank No.:</span> <br class="svelte-1emxd9k"> <span class="label svelte-1emxd9k">Fuel Prevented:</span> </div></td><td class="svelte-1emxd9k"><button class="more-details svelte-1emxd9k">See Delivery Details</button></td></tr>'),va=P('<tr><td class="svelte-1emxd9k"> </td><td class="svelte-1emxd9k"> </td><td class="svelte-1emxd9k"> </td><td class="svelte-1emxd9k"> </td></tr> <!>',1),ma=P('<tr class="svelte-1emxd9k"><td colspan="4" style="text-align: center; padding: 20px;" class="svelte-1emxd9k">No results found</td></tr>'),pa=P('<div class="card-details svelte-1emxd9k"><hr class="svelte-1emxd9k"> <div class="details-header svelte-1emxd9k">Details:</div> <div class="details-content svelte-1emxd9k"><div class="detail-row svelte-1emxd9k"> </div> <div class="detail-row svelte-1emxd9k"><span class="label svelte-1emxd9k">Full Address:</span> </div> <div class="detail-row svelte-1emxd9k"><span class="label svelte-1emxd9k">Tank Grade:</span> <span class="label svelte-1emxd9k">Tank No:</span> </div> <div class="detail-row svelte-1emxd9k"><span class="label svelte-1emxd9k">Fuel Prevented:</span> </div> <button class="more-details mobile-details-btn svelte-1emxd9k">See Delivery Details</button></div></div>'),ua=P('<div><div class="card-header svelte-1emxd9k"><div class="card-item svelte-1emxd9k"><span class="card-label svelte-1emxd9k"> </span></div> <div class="card-item svelte-1emxd9k"><span class="card-value svelte-1emxd9k"> </span> <span class="card-value svelte-1emxd9k" style="margin-left: 2vw;"> </span> <span class="card-value svelte-1emxd9k" style="margin-left: 2vw;"> </span> <span class="card-value svelte-1emxd9k" style="position: relative;margin-left:auto"> </span></div></div> <!></div>'),ka=P('<div class="no-results svelte-1emxd9k">No results found</div>'),fa=P('<header class="svelte-1emxd9k"><div class="header-container svelte-1emxd9k"><div class="top-header svelte-1emxd9k"><a class="top-header-link svelte-1emxd9k" href="https://berrys.com">berrys.com</a> <a class="top-header-link svelte-1emxd9k" href=" ">Contact Us</a></div> <div class="header svelte-1emxd9k"><div class="header-background svelte-1emxd9k"></div> <div class="hamburger-menu svelte-1emxd9k" id="hamburger-menu"><span class="svelte-1emxd9k"></span> <span class="svelte-1emxd9k"></span> <span class="svelte-1emxd9k"></span></div> <a class="svelte-1emxd9k">Home</a> <a class="svelte-1emxd9k">Inventory</a> <a class="svelte-1emxd9k">Vehicle Logging</a> <a class="svelte-1emxd9k">Site Data</a> <a class="svelte-1emxd9k">Analytics</a> <input type="text" placeholder="Search..." class="svelte-1emxd9k"> <img alt="Berrys Logo" class="svelte-1emxd9k"></div></div></header> <div class="mobile-sidebar svelte-1emxd9k" id="mobile-sidebar"><a class="svelte-1emxd9k">Home</a> <a class="svelte-1emxd9k">Vehicle Logging</a> <a class="svelte-1emxd9k">Cross-Drop Prevention</a> <a class="svelte-1emxd9k">Site Data</a> <a class="svelte-1emxd9k">Inventory</a> <a class="svelte-1emxd9k">Analytics</a> <span class="footer-text svelte-1emxd9k">Contact Us <br class="svelte-1emxd9k"> Berrys Technologies Ltd 141 Lichfield Road, Birmingham ,  B6 5SP , United Kingdom <br class="svelte-1emxd9k"> 0121 558 4411 <br class="svelte-1emxd9k"> enquiries@berrys.com</span></div> <div class="overlay svelte-1emxd9k" id="overlay"></div> <div class="sub-header-container svelte-1emxd9k"><div class="sub-header svelte-1emxd9k"><img alt="Cross-drop graphic" class="subheader-image svelte-1emxd9k"> <h1 class="svelte-1emxd9k">Cross-drop prevention</h1> <span class="svelte-1emxd9k">Midas Elbow prevents unloading errors by detecting the product before its dropped into the underground storage tank. View prevented contamination instances below, either live or by custom search fields.</span></div> <div class="breadcrumb svelte-1emxd9k"><a class="svelte-1emxd9k">Home</a> / <span class="svelte-1emxd9k">Cross-drop prevention</span></div></div> <main class="cross-drop-page svelte-1emxd9k"><div class="main-container svelte-1emxd9k"><button class="toggle-search-btn svelte-1emxd9k"><label for="search-fields" class="search-label svelte-1emxd9k">Search <span style="font-size:1rem" class="svelte-1emxd9k"> </span></label></button> <div><label for="ST-address" class="svelte-1emxd9k">Address</label> <input type="text" id="ST-address" name="ST-address" autocomplete="off" class="svelte-1emxd9k"> <!> <!> <label for="Zip" class="svelte-1emxd9k">Zip</label> <input type="text" id="Zip" name="Zip" autocomplete="off" class="svelte-1emxd9k"> <label for="Date" class="svelte-1emxd9k">Date</label> <input type="date" id="Date" name="Date" autocomplete="off" placeholder="DD.MM.YYYY" class="svelte-1emxd9k"> <label for="Fuel" class="svelte-1emxd9k">Fuel</label> <input type="text" id="Fuel" name="Fuel" autocomplete="off" class="svelte-1emxd9k"> <div class="button-container svelte-1emxd9k"><button class="search-button svelte-1emxd9k">Search</button> <button class="clear-button svelte-1emxd9k">Clear</button></div></div> <div class="table-header svelte-1emxd9k"><div class="live-status svelte-1emxd9k"><div class="toggle-live svelte-1emxd9k"><label for="table-type" class="table-type svelte-1emxd9k">LIVE <span class="live-indicator svelte-1emxd9k"></span></label></div> <label for="table-type" class="table-type svelte-1emxd9k"><span id="current-datetime" class="current-time svelte-1emxd9k"></span></label></div> <div class="export-dropdown svelte-1emxd9k"><button class="export-button svelte-1emxd9k">Export As ▼</button> <div class="dropdown-content svelte-1emxd9k" id="exportDropdown"><a href=" " class="svelte-1emxd9k">CSV</a> <a href=" " class="svelte-1emxd9k">PDF</a></div></div></div> <div class="data-container svelte-1emxd9k"><table class="desktop-view svelte-1emxd9k"><thead class="svelte-1emxd9k"><tr class="svelte-1emxd9k"><th class="svelte-1emxd9k">Date</th><th class="svelte-1emxd9k">Time</th><th class="svelte-1emxd9k">Zip</th><th class="svelte-1emxd9k">Prevented Delivery</th></tr></thead><tbody class="svelte-1emxd9k"><!></tbody></table> <div class="mobile-card-view svelte-1emxd9k"><!></div></div></div></main> <footer class="svelte-1emxd9k"><div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;" class="svelte-1emxd9k"><span style="font-size: 1rem; font-family: Mulish;" class="svelte-1emxd9k">@copyrights Berrys Global Innovations</span> <img alt="Berrys Logo" class="svelte-1emxd9k"></div></footer>',1);function Pa(ge,o){Et(o,!1);let U=z(),ye=z();const he=ea(aa).url.pathname;let Z=z(!1);function be(e){ta(`${f}/deliveryDetail/${e.zip}`,{state:{from:he,address:e.address,city:e.city,state:e.state,date:e.date,time:e.time,siteCode:e.zip}})}function F(e){if(!e)return"";const c=new Date(e).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".");return console.log(c),c}function ae(){p(Z,!t(Z))}function Ge(){const e=document.getElementById("hamburger-menu"),s=document.getElementById("mobile-sidebar"),c=document.getElementById("overlay");e.addEventListener("click",function(){s.classList.toggle("active"),c.style.display=s.classList.contains("active")?"block":"none"}),c.addEventListener("click",function(){s.classList.remove("active"),c.style.display="none"}),s.querySelectorAll("a").forEach(l=>{l.addEventListener("click",function(){s.classList.remove("active"),c.style.display="none"})})}let N=[],g=z([]),D=z([]),n=z({address:"",state:"",city:"",zip:"",date:"",fuel:""});function se(e){return e%2===0?"row-even":"row-odd"}function G(){p(g,N.filter(e=>{const s=!t(n).address||e.address&&e.address.toLowerCase().includes(t(n).address.toLowerCase()),c=!t(n).state||e.state&&e.state.toLowerCase().includes(t(n).state.toLowerCase()),y=!t(n).city||e.city&&e.city.toLowerCase().includes(t(n).city.toLowerCase()),l=!t(n).zip||e.zip&&e.zip.toString().includes(t(n).zip),d=!t(n).date||e.date&&e.date.includes(F(t(n).date)),_=!t(n).fuel||e.preventedDelivery&&e.preventedDelivery.toLowerCase().includes(t(n).fuel.toLowerCase());return s&&c&&y&&l&&d&&_})),p(D,Array(t(g).length).fill(!1)),j()}function Re(){p(n,{address:"",state:"",city:"",zip:"",date:"",fuel:""}),p(g,[...N]),p(D,Array(t(g).length).fill(!1)),j(!0)}function le(e){if(!e)return"";const[s,c,y]=e.split("."),l=new Date(y,s-1,c);if(isNaN(l.getTime()))return e;const d=new Date;if((d-l)/(1e3*60)<=30)return"Just now";if(l.getDate()===d.getDate()&&l.getMonth()===d.getMonth()&&l.getFullYear()===d.getFullYear())return"Today";const h=new Date(d);if(h.setDate(d.getDate()-1),l.getDate()===h.getDate()&&l.getMonth()===h.getMonth()&&l.getFullYear()===h.getFullYear())return"Yesterday";const b=new Date(d);if(b.setDate(d.getDate()-2),l.getDate()===b.getDate()&&l.getMonth()===b.getMonth()&&l.getFullYear()===b.getFullYear())return"Two days ago";const E={year:"numeric",month:"long",day:"numeric"};return l.toLocaleDateString("en-US",E)}function re(e){let s=[...t(D)];s[e]=!s[e],p(D,s)}function V(){const e=document.getElementById("current-datetime");if(e){const s=new Date,c={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};e.textContent=s.toLocaleDateString("en-US",c)}}function j(e=!1){const s=document.querySelector(".toggle-live");!e&&$e()?s.style.display="none":s.style.display="block"}function $e(){return Object.values(t(n)).some(e=>e.trim()!=="")}function ie(){document.getElementById("exportDropdown").classList.toggle("show")}function ne(){const s=document.querySelector("table").cloneNode(!0);s.querySelectorAll(".more-details").forEach(k=>{k.parentNode.textContent=""});const y=s.querySelectorAll("tr");let l=[];const d=[];y[0].querySelectorAll("th").forEach(k=>{d.push(k.textContent.trim())}),l.push(d.join(","));for(let k=1;k<y.length;k++){const L=[];y[k].querySelectorAll("td").forEach(T=>{let C=T.textContent.trim().replace(/"/g,'""');L.push(`"${C}"`)}),L.length>0&&l.push(L.join(","))}const S=l.join(`
`),h=new Blob([S],{type:"text/csv;charset=utf-8;"}),b=new Date,E=b.toISOString().split("T")[0],A=b.toTimeString().split(" ")[0].replace(/:/g,"-"),W=`${document.location.pathname.includes("vehicle-logging")?"vehicle_logging":"cross-drops"}_${E}_${A}.csv`;if("showSaveFilePicker"in window){async function k(){try{const B=await(await window.showSaveFilePicker({suggestedName:W,types:[{description:"CSV File",accept:{"text/csv":[".csv"]}}]})).createWritable();await B.write(h),await B.close()}catch(L){L.name!=="AbortError"&&$()}}k()}else $();function $(){const k=document.createElement("a");k.href=URL.createObjectURL(h),k.setAttribute("download",W),document.body.appendChild(k),k.click(),document.body.removeChild(k)}}async function R(){try{const{jsPDF:e}=window.jspdf;if(!e)throw new Error("jsPDF library not found");const s=new e;s.setFont("helvetica","bold"),s.setFontSize(16),s.text("Cross Drops Prevention Data",14,15);const c=new Date().toLocaleString();s.setFontSize(10),s.setFont("helvetica","normal"),s.text(`Generated: ${c}`,14,25);const y=document.querySelector("table");if(!y)throw new Error("Table not found");const l=y.cloneNode(!0);l.querySelectorAll(".more-details").forEach(E=>{const A=E.closest("td, th");A&&(A.textContent="")}),s.autoTable({html:l,startY:30,styles:{fontSize:8,cellPadding:2,overflow:"linebreak",halign:"center"},headStyles:{fillColor:[1,75,150],textColor:255,fontSize:8,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[234,243,252]},margin:{top:30}});const _=new Date,S=_.toISOString().split("T")[0],h=_.toTimeString().split(" ")[0].replace(/:/g,"-"),b=`cross_drops_${S}_${h}.pdf`;if("showSaveFilePicker"in window)try{const A=await(await window.showSaveFilePicker({suggestedName:b,types:[{description:"PDF File",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await A.write(s.output("blob")),await A.close()}catch(E){console.error("File save error:",E),de(s,b)}else de(s,b);return!0}catch(e){return console.error("PDF generation failed:",e),!1}}function de(e,s){e.save(s)}function xe(e){if(!e.target.matches(".export-button"))for(var s=document.getElementsByClassName("dropdown-content"),c=0;c<s.length;c++){var y=s[c];y.classList.contains("show")&&y.classList.remove("show")}}Xt(async()=>{Ge(),V(),Dt(),N=await ia(),p(g,[...N]),p(D,Array(N.length).fill(!1)),p(U,[...new Set(N.map(s=>s.state).filter(s=>s&&s.trim()!==""))]),p(ye,[...new Set(N.map(s=>s.city).filter(s=>s&&s.trim()!==""))]),Dt();const e=setInterval(V,1e3);return window.addEventListener("click",xe),()=>{clearInterval(e),window.removeEventListener("click",xe)}}),wt();var K=fa();Kt(e=>{var s=oa();Zt.title="Cross-drops",Ne(12),w(e,s)});var J=me(K),u=i(J),H=a(i(u),2),q=i(H);Wt(q,`      background: url(${f??""}/svg/Vector_1.svg) no-repeat left center; mask-image: url(${f??""}/svg/Vector_1.svg'); -webkit-mask-image: url(${f??""}/svg/Vector_1.svg);`);var _e=a(q,4);x(_e,"href",`${f??""}/home`);var Ye=a(_e,2);x(Ye,"href",`${f??""}/inventory`);var Ue=a(Ye,2);x(Ue,"href",`${f??""}/vehicle-logging`);var Ze=a(Ue,2);x(Ze,"href",`${f??""}/site-data`);var Ke=a(Ze,2);x(Ke,"href",`${f??""}/analytics`);var Ct=a(Ke,4);x(Ct,"src",`${f??""}/images/Midas_Link_logo.png`),r(H),r(u),r(J);var ze=a(J,2),Je=i(ze);x(Je,"href",`${f??""}/home`);var We=a(Je,2);x(We,"href",`${f??""}/vehicle-logging`);var Qe=a(We,2);x(Qe,"href",`${f??""}/cross-drops`);var Xe=a(Qe,2);x(Xe,"href",`${f??""}/site-data`);var et=a(Xe,2);x(et,"href",`${f??""}/inventory`);var Nt=a(et,2);x(Nt,"href",`${f??""}/analytics`),Ne(2),r(ze);var Pe=a(ze,4),Oe=i(Pe),Tt=i(Oe);x(Tt,"src",`${f??""}/images/Cross-drop graphic.png`),Ne(4),r(Oe);var tt=a(Oe,2),Gt=i(tt);x(Gt,"href",`${f??""}/home`),Ne(2),r(tt),r(Pe);var Ie=a(Pe,2),at=i(Ie),De=i(at),st=i(De),lt=a(i(st)),Rt=i(lt,!0);r(lt),r(st),r(De);var Se=a(De,2);let rt;var Ee=a(i(Se),2);ke(Ee);var it=a(Ee,2);St(it,{id:"State",label:"State",get options(){return t(U)},get value(){return t(n).state},set value(e){ee(n,t(n).state=e)},$$events:{keydown:e=>{e.key==="Enter"&&G()}},$$legacy:!0});var nt=a(it,2);St(nt,{id:"City",label:"City",get options(){return t(ye)},get value(){return t(n).city},set value(e){ee(n,t(n).city=e)},$$events:{keydown:e=>{e.key==="Enter"&&G()}},$$legacy:!0});var Ae=a(nt,4);ke(Ae);var Le=a(Ae,4);ke(Le);var we=a(Le,4);ke(we);var dt=a(we,2),ot=i(dt),$t=a(ot,2);r(dt),r(Se);var Me=a(Se,2),ct=a(i(Me),2),vt=i(ct),mt=a(vt,2),pt=i(mt),zt=a(pt,2);r(mt),r(ct),r(Me);var ut=a(Me,2),Fe=i(ut),kt=a(i(Fe)),Pt=i(kt);{var Ot=e=>{var s=bt(),c=me(s);qe(c,1,()=>t(g),Be,(y,l,d)=>{var _=va(),S=me(_),h=i(S),b=i(h,!0);r(h);var E=a(h),A=i(E,!0);r(E);var O=a(E),W=i(O,!0);r(O);var $=a(O),k=i($,!0);r($),r(S);var L=a(S,2);{var B=T=>{var C=ca(),oe=i(C),Ce=a(i(oe),2),I=i(Ce),M=a(I,4),ce=a(M,4),Q=a(ce,2),Ve=a(Q,4);r(Ce),r(oe);var X=a(oe),je=i(X);r(X),r(C),Y(ve=>{ue(C,1,`details-row ${ve??""}`,"svelte-1emxd9k"),v(I,`${t(l).date??""} | ${(t(l).time||"")??""} `),v(M,` ${(t(l).address||"")??""}, ${(t(l).city||"")??""} ${(t(l).state||"")??""} | ${(t(l).zip||"")??""} `),v(ce,` ${(t(l).tankGrade||"")??""} | `),v(Q,` ${(t(l).tankNo||"")??""} `),v(Ve,` ${(t(l).preventedDelivery||"")??""}`)},[()=>se(d)],pe),m("click",je,()=>be(t(l))),m("click",C,()=>re(d)),w(T,C)};Te(L,T=>{t(D)[d]&&T(B)})}Y((T,C)=>{ue(S,1,`main-row ${T??""} ${t(D)[d]?"hover-row":""}`,"svelte-1emxd9k"),v(b,C),v(A,t(l).time),v(W,t(l).zip),v(k,t(l).preventedDelivery)},[()=>se(d),()=>le(t(l).date)],pe),m("click",S,()=>re(d)),w(y,_)}),w(e,s)},It=e=>{var s=ma();w(e,s)};Te(Pt,e=>{t(g).length>0?e(Ot):e(It,!1)})}r(kt),r(Fe);var ft=a(Fe,2),Mt=i(ft);{var Ft=e=>{var s=bt(),c=me(s);qe(c,1,()=>t(g),Be,(y,l,d)=>{var _=ua(),S=i(_),h=i(S),b=i(h),E=i(b,!0);r(b),r(h);var A=a(h,2),O=i(A),W=i(O);r(O);var $=a(O,2),k=i($);r($);var L=a($,2),B=i(L);r(L);var T=a(L,2),C=i(T,!0);r(T),r(A),r(S);var oe=a(S,2);{var Ce=I=>{var M=pa(),ce=a(i(M),4),Q=i(ce),Ve=i(Q);r(Q);var X=a(Q,2),je=a(i(X));r(X);var ve=a(X,2),ht=a(i(ve)),Ht=a(ht,2);r(ve);var He=a(ve,2),qt=a(i(He));r(He);var Bt=a(He,2);r(ce),r(M),Y(()=>{v(Ve,`${t(l).date??""} | ${(t(l).time||"")??""}`),v(je,` ${(t(l).address||"")??""}, ${(t(l).city||"")??""} ${(t(l).state||"")??""} | ${(t(l).zip||"")??""}`),v(ht,` ${(t(l).tankGrade||"")??""} | `),v(Ht,` ${(t(l).tankNo||"")??""}`),v(qt,` ${t(l).preventedDelivery??""}`)}),m("click",Bt,()=>be(t(l))),w(I,M)};Te(oe,I=>{t(D)[d]&&I(Ce)})}r(_),Y((I,M)=>{ue(_,1,`card ${I??""}`,"svelte-1emxd9k"),v(E,M),v(W,`Tank: T${t(l).tankNo??""}`),v(k,`Fuel: ${t(l).preventedDelivery??""}`),v(B,`Zip: ${t(l).zip??""}`),v(C,t(D)[d]?"▲":"▼")},[()=>se(d),()=>le(t(l).date)==="Just now"?"Just now":`${le(t(l).date)} ${t(l).time}`],pe),m("click",_,()=>re(d)),w(y,_)}),w(e,s)},Vt=e=>{var s=ka();w(e,s)};Te(Mt,e=>{t(g).length>0?e(Ft):e(Vt,!1)})}r(ft),r(ut),r(at),r(Ie);var gt=a(Ie,2),yt=i(gt),jt=a(i(yt),2);return x(jt,"src",`${f??""}/images/logo.png`),r(yt),r(gt),Y(e=>{v(Rt,t(Z)?"▲":"▼"),rt=ue(Se,1,"search-fields svelte-1emxd9k",null,rt,e)},[()=>({visible:t(Z)})],pe),m("click",De,ae),fe(Ee,()=>t(n).address,e=>ee(n,t(n).address=e)),m("keydown",Ee,e=>{e.key==="Enter"&&G()}),fe(Ae,()=>t(n).zip,e=>ee(n,t(n).zip=e)),m("keydown",Ae,e=>{e.key==="Enter"&&G()}),fe(Le,()=>t(n).date,e=>ee(n,t(n).date=e)),m("keydown",Le,e=>{e.key==="Enter"&&G()}),fe(we,()=>t(n).fuel,e=>ee(n,t(n).fuel=e)),m("keydown",we,e=>{e.key==="Enter"&&G()}),m("click",ot,G),m("click",$t,Re),m("click",vt,ie),m("click",pt,xt(ne)),m("click",zt,xt(R)),w(ge,K),Lt(o,"updateDateTime",V),At({updateDateTime:V})}export{Pa as component,za as universal};
